<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 1b250e3c-139b-46cf-a7c3-e03252331aa1 (2026-01-06 17:22Z) -->

# Messages map TypeError (2026-01-06 17:22Z)

_**User (2026-01-06 16:41Z)**_

@fish (984-1030) 

getting this error

---

_**Agent (model composer-1, mode Agent)**_



---


The build fails because it's including the `venv` directory, which contains symlinks to absolute paths. Checking the build configuration to exclude `venv`:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/aman/Documents/repos/artpark/agentloop/pyproject.toml</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "MANIFEST.in" • **0** result in **1** directory</summary>

Directory: **/Users/aman/Documents/repos/artpark/agentloop** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase ".gitignore" • **1** result in **1** directory</summary>

Directory: **/Users/aman/Documents/repos/artpark/agentloop** (1 file)

| File |
|------|
| `.gitignore` |

</details>
</tool-use>

---



---





---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/aman/Documents/repos/artpark/agentloop/.gitignore</summary>

</details>
</tool-use>

---



---


`.gitignore` excludes `venv/`, but setuptools doesn't respect it during builds. Creating `MANIFEST.in` to exclude `venv` and other build artifacts:


---

<tool-use data-tool-type="write" data-tool-name="write">

<details><summary>Tool use: **write** • Edit file: /Users/aman/Documents/repos/artpark/agentloop/MANIFEST.in</summary>

**Chunk 1**
Lines added: 24, lines removed: 1

```diff
@@ -1,1 +1,24 @@
- 
+ # Exclude virtual environments
+ global-exclude venv/
+ global-exclude .venv/
+ global-exclude env/
+ global-exclude ENV/
+ global-exclude *.egg-info/
+ 
+ # Exclude build artifacts
+ global-exclude build/
+ global-exclude dist/
+ global-exclude __pycache__/
+ global-exclude *.pyc
+ global-exclude *.pyo
+ 
+ # Exclude IDE and system files
+ global-exclude .DS_Store
+ global-exclude .vscode/
+ global-exclude .idea/
+ 
+ # Exclude logs and output directories
+ global-exclude logs/
+ global-exclude out/
+ global-exclude data/
+ 
```

</details>

</tool-use>

---

