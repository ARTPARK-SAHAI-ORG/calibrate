---
title: "Simulations"
description: "Run simulated conversations with your agents"
---

Pense lets you simulate entire conversations with your agent using simulated users matching the personas of your target audience for specific scenarios defined by you. This guide walks you through setting up and running your first simulation.

## Create an agent

From the sidebar, click **Agents** → **New agent**. Configure the system prompt, select your STT, TTS, and LLM providers and add [tools](/core-concepts/tools) to the agent.

<Tip>
  Learn more about agent configuration in [Core Concepts:
  Agents](/core-concepts/agents)
</Tip>

<Frame>
  <img src="./images/sim_agent.png" alt="Agent Configuration" />
</Frame>

## Create personas

From the sidebar under **End-to-End Tests**, click **Personas** → **Add persona**.

<Frame>
  <img src="./images/sim_personas.png" alt="Personas List" />
</Frame>

Define `WHO` the simulated user is - their personality, speaking style, and behavior.

<Tip>
  Learn more about personas in [Core Concepts -
  Personas](/core-concepts/personas)
</Tip>

<Frame>
  <img src="./images/sim_persona_add.png" alt="Add Persona Dialog" />
</Frame>

## Create scenarios

Click **Scenarios** → **Add scenario**.

<Frame>
  <img src="./images/sim_scenarios.png" alt="Scenarios List" />
</Frame>

Define `WHAT` the simulated user should accomplish during the conversation.

<Tip>
  Learn more about scenarios in [Core Concepts -
  Scenarios](/core-concepts/scenarios)
</Tip>

<Frame>
  <img src="./images/sim_scenario_add.png" alt="Add Scenario Dialog" />
</Frame>

## Create metrics

Click **Metrics** → **Add metric**.

<Frame>
  <img src="./images/sim_metrics.png" alt="Metrics List" />
</Frame>

Define how to evaluate whether the agent performed well.

<Tip>
  Learn more about metrics in [Core Concepts - Metrics](/core-concepts/metrics)
</Tip>

<Frame>
  <img src="./images/sim_metric_add.png" alt="Add Metric Dialog" />
</Frame>

## Create a simulation

Click **Simulations** → **Add simulation** and enter a name.

<Frame>
  <img src="./images/sim_create.png" alt="Create Simulation" />
</Frame>

Select the agent, personas, scenarios, and metrics for your simulation.

<Frame>
  <img src="./images/sim_config.png" alt="Simulation Configuration" />
</Frame>

Click **Create** after filling in the details to save the simulation configuration. This creates the simulation but does not run it yet.

## Run the simulation

After creating, you'll see a **Launch** button. Click it to start a simulation run and choose between:

- **Text simulation** — text-only conversations (faster)
- **Voice simulation** — full STT/TTS pipeline with latency metrics

<Frame>
  <img src="./images/sim_launch_options.png" alt="Launch Options" />
</Frame>

Each run creates one simulated conversation for each persona × scenario combination.

### Text simulation

After launching a text simulation, the run page opens showing each conversation streaming in real-time.

<Frame>
  <img src="./images/sim_text_running.png" alt="Text Simulation Running" />
</Frame>

Once conversations complete, results show the metric evaluations for each row.

<Frame>
  <img src="./images/sim_text_results.png" alt="Text Simulation Results" />
</Frame>

Click any row to view the full transcript.

<Frame>
  <img src="./images/sim_text_transcript.png" alt="Transcript View" />
</Frame>

The **Overall metrics** show the aggregated values for each metric across all conversations.

### Voice simulation

Voice simulations use the full STT/TTS pipeline for more realistic testing. After launching, conversations stream in real-time like text simulations.

<Frame>
  <img src="./images/sim_voice_running.png" alt="Voice Simulation Running" />
</Frame>

Click any row to view the transcript with audio playback for each turn and the full conversation.

<Frame>
  <img
    src="./images/sim_voice_transcript.png"
    alt="Voice Transcript with Audio"
  />
</Frame>

Once complete, voice simulations show results with the **Performance** tab displaying aggregated evaluation metrics across all conversations.

<Frame>
  <img src="./images/sim_voice_results.png" alt="Voice Simulation Results" />
</Frame>

Switch to the **Latency** tab to view detailed timing metrics for each component:

- **stt/ttft** and **stt/processing_time** — Speech-to-Text latency
- **llm/ttft** and **llm/processing_time** — LLM response latency
- **tts/ttft** and **tts/processing_time** — Text-to-Speech latency

<Frame>
  <img
    src="./images/sim_voice_latency.png"
    alt="Voice Simulation Latency Metrics"
  />
</Frame>

<Tip>
  Voice simulations take longer than text simulations due to the full audio
  pipeline, but provide more realistic testing of your agent's voice experience.
</Tip>

## Next steps

<CardGroup cols={2}>
  <Card
    title="Personas"
    icon="user"
    href="/core-concepts/personas#best-practices"
  >
    Best practices for creating realistic personas
  </Card>
  <Card
    title="Scenarios"
    icon="list"
    href="/core-concepts/scenarios#best-practices"
  >
    Best practices for creating effective scenarios
  </Card>
</CardGroup>
